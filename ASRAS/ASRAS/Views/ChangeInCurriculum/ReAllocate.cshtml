
@{
    ViewBag.Title = "Re-allocate from one semster to another";
    var Ins = (ASRAS.Models.Institute)Session["Institute"];
    var Institute = Ins.Name;
    var Ins_id = (Double)Session["Ins_id"];
}
    <h2>Re-allocate from one semester to another </h2>
    <h3>Fill the full form before submitting Mr. @ViewBag.Uname</h3>

    <script type="text/javascript">
    $(document).ready(function () {
        $('input[type=radio][name=Subjects]').change(function () {
            var selectedInstituteID = @Ins_id;
            var selectedDepartmentID = $('#Department_DropDownId option:selected').val();
            var selectedCourseID = $('#Course_DropDownId option:selected').val();
            var selectedSemesterID = $('#Semester_DropDownId option:selected').val();
            var selectedSubtype = this.value;
            if (this.value == 'Core') {
                selectedSubtype = 1;
            }
            else if (this.value == 'PE') {
                selectedSubtype = 2;
            }
            else if (this.value == 'OE') {
                selectedSubtype = 3;
            }
            console.log(selectedInstituteID + " " + selectedDepartmentID + " " + selectedCourseID + " " + selectedSemesterID + " " + selectedSubtype);
            $('#SubjectContainer').load('@Url.Action("SubjectView")?InstituteID=' + selectedInstituteID + '&DeptID=' + selectedDepartmentID + '&CourseID=' + selectedCourseID + '&SemesterID=' + selectedSemesterID + '&Sub_type=' + selectedSubtype);
        });
    });
    </script>

    <p>Institute</p>
    <div id="InstituteContainer">
        <h3>@Institute</h3>
    </div>
    <br />
    <p>Department</p>
    <div id="DepartmentContainer">
        @Html.Action("DepartmentView", "DropDown", new { InstituteID =Ins_id })
    </div>
    <br />
    <p>Course</p>
    <div id="CourseContainer">
        @Html.Action("CourseView", "DropDown", new { InstituteID = Ins_id, DeptID = 1 })
    </div>
    <br />
    <p>Semester</p>
    <div id="SemesterContainer">
        @Html.Action("SemesterView", "DropDown", new { InstituteID = Ins_id, DeptID = 1, CourseID = 1 })
    </div>
    <br />
    <p>Subject Type</p>
    <div id="SubjectType">
        Core:<input type="radio" name="Subjects" value="1" /><br />
        PE:<input type="radio" name="Subjects" value="2" /><br />
        OE:<input type="radio" name="Subjects" value="3" /><br />
    </div>
    <br />
    <p>Subject</p>
    <div id="SubjectContainer">
        @Html.Action("SubjectView", "DropDown", new { InstituteId = Ins_id, DeptID = 1, CourseID = 1, SemesterID = 1, Sub_type = 1 })
    </div>
<div id="new semester">
    @Html.Action("SemesterView", "DropDown", new { InstituteID = Ins_id, DeptID = 1, CourseID = 1 })
</div>
